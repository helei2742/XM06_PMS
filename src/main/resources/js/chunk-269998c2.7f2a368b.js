(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-269998c2"],{"102c":function(t,e,a){},"1fee":function(t,e,a){},"43be":function(t,e,a){"use strict";a("1fee")},"5deb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isClose?a("div",{staticClass:"show-window"},[a("el-row",{staticClass:"show-window-title"},[a("el-col",{attrs:{span:16}},[a("div",{staticClass:"hidden-sm-and-down"},[t._t("title")],2)]),a("el-col",{attrs:{offset:2,span:4}},[a("div",{staticClass:"light-tool"},[a("el-switch",{attrs:{value:t.lightType,"active-color":"#3c3f41","inactive-color":"#ffd04c","active-value":1,"inactive-value":0,"active-icon-class":"el-icon-moon","inactive-icon-class":"el-icon-sunny"},on:{change:function(e){return e.target!==e.currentTarget?null:t.colorModuleChange.apply(null,arguments)}}})],1)]),a("el-col",{staticClass:"show-window-button",attrs:{span:4}},[a("div",{staticClass:"el-icon-refresh",on:{click:t.reload}}),a("div",{staticClass:"el-icon-close",on:{click:t.close}})])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"show-window-main",style:t.bgcColor},[a("div",{staticStyle:{position:"relative","border-radius":"20px",padding:"10px 0"},style:t.slotAreaColor},[t._t("main")],2)])])],1)],1):t._e()},r=[],o=a("4ba1"),i={name:"ShowWindow",computed:{bgcColor:function(){return{backgroundColor:this.color[this.lightType].bgcColor}},slotAreaColor:function(){return{backgroundColor:this.color[this.lightType].slotAreaBgc}}},methods:{close:function(){this.isClose=!1},reload:function(){this.$forceUpdate()},colorModuleChange:function(t){this.lightType=t,this.$store.commit(o["b"],{colorModule:t})}},data:function(){return{lightType:0,isClose:!0,color:this.$store.getters.getColor}},activated:function(){this.lightType=this.$store.getters.getColorModule}},n=i,l=(a("85e3"),a("2877")),c=Object(l["a"])(n,s,r,!1,null,"31b52f1e",null);e["a"]=c.exports},"85e3":function(t,e,a){"use strict";a("102c")},"95d4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alter-task"},[a("show-window",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"查询任务信息中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-s-order"}),a("span",[t._v("任务管理")]),a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v("修改任务信息")]),a("i",{staticClass:"el-icon-arrow-right"}),a("span",[t._v(t._s(t.task.taskName))])]),a("div",{attrs:{slot:"main"},slot:"main"},[a("el-row",[a("el-col",{attrs:{offset:2,xs:22,sm:18,md:18,lg:10,xl:10}},[a("alter-task-form",{ref:"alterTaskForm",attrs:{task:t.task},on:{alterTask:t.alterTask}})],1)],1)],1)])],1)},r=[],o=(a("d3b7"),a("5deb")),i=a("bd9c"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alter-task-form"},[a("el-form",{ref:"ruleForm",attrs:{model:t.taskForm,rules:t.rules,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"任务名称",prop:"taskName"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{disabled:!t.isAlterName},model:{value:t.taskForm.taskName,callback:function(e){t.$set(t.taskForm,"taskName",e)},expression:"taskForm.taskName"}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-edit"},on:{click:function(e){t.isAlterName=!t.isAlterName}}})],1),a("el-form-item",{attrs:{label:"任务描述",size:"description"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{type:"textarea",disabled:!t.isAlterDescription,autosize:{minRows:2,maxRows:9}},model:{value:t.taskForm.description,callback:function(e){t.$set(t.taskForm,"description",e)},expression:"taskForm.description"}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-edit"},on:{click:function(e){t.isAlterDescription=!t.isAlterDescription}}})],1),a("el-form-item",{attrs:{label:"截止时间",prop:"deadline"}},[a("el-date-picker",{staticStyle:{width:"70%"},attrs:{disabled:!t.isAlterDeadline,type:"datetime",placeholder:"选择日期时间"},model:{value:t.taskForm.deadline,callback:function(e){t.$set(t.taskForm,"deadline",e)},expression:"taskForm.deadline"}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-edit"},on:{click:function(e){t.isAlterDeadline=!t.isAlterDeadline}}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"warning",disabled:t.isNotChange},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确认修改")])],1)],1)],1)},l=[],c=(a("a4d3"),a("e01a"),{name:"AlterTaskForm",props:{task:{type:Object,default:function(){return{}}}},computed:{isNotChange:function(){return this.taskForm.taskName===this.task.taskName&&this.taskForm.deadline===this.task.deadline&&this.taskForm.description===this.task.description}},data:function(){return{taskForm:{},isAlterName:!1,isAlterDeadline:!1,isAlterDescription:!1,rules:{taskName:[{required:!0,message:"请输入任务名称",trigger:"blur"}],deadline:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],description:[{required:!0,message:"请填写任务描述",trigger:"blur"}]}}},methods:{setTaskForm:function(t){this.taskForm=JSON.parse(JSON.stringify(t))},reset:function(){this.taskForm={},this.isAlterName=!1,this.isAlterDeadline=!1,this.isAlterDescription=!1},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;console.log(e.taskForm),e.taskForm.deadline=new Date(e.taskForm.deadline).getTime(),e.$emit("alterTask",e.taskForm)}))}}}),d=c,u=(a("43be"),a("2877")),m=Object(u["a"])(d,n,l,!1,null,"76d7a396",null),p=m.exports,f={name:"AlterTask",components:{AlterTaskForm:p,ShowWindow:o["a"]},data:function(){return{task:{},loading:!1}},methods:{alterTask:function(t){var e=this,a=this.$loading({lock:!0,text:"正在修改任务信息",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i["a"])(t).then((function(t){200===t.code?e.$message.success("修改任务信息成功"):e.$message.error("修改失败，请稍后重试")})).finally((function(){a.close()}))}},activated:function(){var t=this;this.$refs.alterTaskForm.reset();var e=this.$route.query.task,a=this.$route.query.taskId;void 0===e.id?(this.loading=!0,Object(i["i"])(a).then((function(e){200===e.code?(t.task=e.result,t.$refs.alterTaskForm.setTaskForm(t.task)):t.$message.error("出错拉，获取任务信息失败")})).finally((function(){t.loading=!1}))):(this.task=e,this.$refs.alterTaskForm.setTaskForm(this.task))}},k=f,h=Object(u["a"])(k,s,r,!1,null,"7cf381cd",null);e["default"]=h.exports},b114:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return c}));var s=a("bc3a"),r=a.n(s),o=a("1bab"),i=a("f121");function n(t){var e=r.a.create({timeout:5e3,withCredentials:!0});return e(t)}function l(t,e,a,s,r){return Object(o["a"])({url:"/task/submitTask",params:{userId:t,taskId:e,description:a},onUploadProgress:r,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:s})}function c(t){return n({url:i["b"],params:{filePath:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}})}},bd9c:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return n})),a.d(e,"h",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"j",(function(){return d})),a.d(e,"k",(function(){return u})),a.d(e,"l",(function(){return m})),a.d(e,"d",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"f",(function(){return k})),a.d(e,"g",(function(){return h}));a("b0c0");var s=a("1bab"),r=a("b114");function o(t){return Object(s["a"])({url:"/task/add",data:{taskName:t.name,groupId:t.groupId,deadline:t.date,description:t.desc,creatorId:t.creatorId},method:"post"})}function i(t){return Object(s["a"])({url:"/task/alterTask",data:t,method:"post"})}function n(t,e,a){return Object(s["a"])({url:"/task/dropTask",data:{id:t,creatorId:e,userPwd:a},method:"post"})}function l(t,e,a,r,o){return Object(s["a"])({url:"/task/pageQueryUserTask",data:{page:e,limit:a,userId:t,type:r,groupId:o},method:"post"})}function c(t){return Object(s["a"])({url:"/task/queryByTaskId",params:{taskId:t},method:"post"})}function d(t,e,a){return Object(s["a"])({url:"/task/taskSubmitRecord",data:{taskId:t,page:e,limit:a},method:"post"})}function u(t,e,a){return Object(s["a"])({url:"/task/userSubmitRecord",data:{userId:t,page:e,limit:a},method:"post"})}function m(t){return Object(s["a"])({url:"/task/queryTaskSubmitCharts",data:{taskId:t},method:"post"})}function p(t,e){return Object(s["a"])({url:"/task/deleteTaskSubmitRecord",data:{recordId:t,userId:e},method:"post"})}function f(t,e){return Object(s["a"])({url:"/task/deleteSelectedRecord",data:{recordIds:t,userId:e},method:"post"})}function k(t){return Object(r["a"])({url:"http://localhost:9000/XM06/task/exportMyRecordExcel",data:{userId:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}function h(t){return Object(r["a"])({url:"http://localhost:9000/XM06/task/exportTaskRecordExcel",data:{taskId:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}}}]);
//# sourceMappingURL=chunk-269998c2.7f2a368b.js.map