(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc1ce744"],{"0017":function(t,e,s){"use strict";s("3a45")},"102c":function(t,e,s){},"3a45":function(t,e,s){},"5deb":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isClose?s("div",{staticClass:"show-window"},[s("el-row",{staticClass:"show-window-title"},[s("el-col",{attrs:{span:16}},[s("div",{staticClass:"hidden-sm-and-down"},[t._t("title")],2)]),s("el-col",{attrs:{offset:2,span:4}},[s("div",{staticClass:"light-tool"},[s("el-switch",{attrs:{value:t.lightType,"active-color":"#3c3f41","inactive-color":"#ffd04c","active-value":1,"inactive-value":0,"active-icon-class":"el-icon-moon","inactive-icon-class":"el-icon-sunny"},on:{change:function(e){return e.target!==e.currentTarget?null:t.colorModuleChange.apply(null,arguments)}}})],1)]),s("el-col",{staticClass:"show-window-button",attrs:{span:4}},[s("div",{staticClass:"el-icon-refresh",on:{click:t.reload}}),s("div",{staticClass:"el-icon-close",on:{click:t.close}})])],1),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"show-window-main",style:t.bgcColor},[s("div",{staticStyle:{position:"relative","border-radius":"20px",padding:"10px 0"},style:t.slotAreaColor},[t._t("main")],2)])])],1)],1):t._e()},a=[],n=s("4ba1"),r={name:"ShowWindow",computed:{bgcColor:function(){return{backgroundColor:this.color[this.lightType].bgcColor}},slotAreaColor:function(){return{backgroundColor:this.color[this.lightType].slotAreaBgc}}},methods:{close:function(){this.isClose=!1},reload:function(){this.$forceUpdate()},colorModuleChange:function(t){this.lightType=t,this.$store.commit(n["b"],{colorModule:t})}},data:function(){return{lightType:0,isClose:!0,color:this.$store.getters.getColor}},activated:function(){this.lightType=this.$store.getters.getColorModule}},i=r,c=(s("85e3"),s("2877")),l=Object(c["a"])(i,o,a,!1,null,"31b52f1e",null);e["a"]=l.exports},"85e3":function(t,e,s){"use strict";s("102c")},b114:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"c",(function(){return c})),s.d(e,"b",(function(){return l}));var o=s("bc3a"),a=s.n(o),n=s("1bab"),r=s("f121");function i(t){var e=a.a.create({timeout:5e3,withCredentials:!0});return e(t)}function c(t,e,s,o,a){return Object(n["a"])({url:"/task/submitTask",params:{userId:t,taskId:e,description:s},onUploadProgress:a,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:o})}function l(t){return i({url:r["b"],params:{filePath:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}})}},bd9c:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r})),s.d(e,"e",(function(){return i})),s.d(e,"h",(function(){return c})),s.d(e,"i",(function(){return l})),s.d(e,"j",(function(){return u})),s.d(e,"k",(function(){return d})),s.d(e,"l",(function(){return p})),s.d(e,"d",(function(){return f})),s.d(e,"c",(function(){return h})),s.d(e,"f",(function(){return m})),s.d(e,"g",(function(){return b}));s("b0c0");var o=s("1bab"),a=s("b114");function n(t){return Object(o["a"])({url:"/task/add",data:{taskName:t.name,groupId:t.groupId,deadline:t.date,description:t.desc,creatorId:t.creatorId},method:"post"})}function r(t){return Object(o["a"])({url:"/task/alterTask",data:t,method:"post"})}function i(t,e,s){return Object(o["a"])({url:"/task/dropTask",data:{id:t,creatorId:e,userPwd:s},method:"post"})}function c(t,e,s,a,n){return Object(o["a"])({url:"/task/pageQueryUserTask",data:{page:e,limit:s,userId:t,type:a,groupId:n},method:"post"})}function l(t){return Object(o["a"])({url:"/task/queryByTaskId",params:{taskId:t},method:"post"})}function u(t,e,s){return Object(o["a"])({url:"/task/taskSubmitRecord",data:{taskId:t,page:e,limit:s},method:"post"})}function d(t,e,s){return Object(o["a"])({url:"/task/userSubmitRecord",data:{userId:t,page:e,limit:s},method:"post"})}function p(t){return Object(o["a"])({url:"/task/queryTaskSubmitCharts",data:{taskId:t},method:"post"})}function f(t,e){return Object(o["a"])({url:"/task/deleteTaskSubmitRecord",data:{recordId:t,userId:e},method:"post"})}function h(t,e){return Object(o["a"])({url:"/task/deleteSelectedRecord",data:{recordIds:t,userId:e},method:"post"})}function m(t){return Object(a["a"])({url:"http://localhost:9000/XM06/task/exportMyRecordExcel",data:{userId:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}function b(t){return Object(a["a"])({url:"http://localhost:9000/XM06/task/exportTaskRecordExcel",data:{taskId:t},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}},f135:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"submit-task"},[s("ShowWindow",{key:"submitTask"},[s("div",{attrs:{slot:"title"},slot:"title"},[s("i",{staticClass:"el-icon-s-order"}),s("span",[t._v("任务管理")]),s("i",{staticClass:"el-icon-arrow-right"}),s("span",[t._v("提交任务")])]),s("div",{attrs:{slot:"main"},slot:"main"},[s("el-row",[s("el-col",{attrs:{offset:1,xs:22,sm:18,md:14,lg:10,xl:10}},[s("submit-task-from",{attrs:{task:t.task}})],1)],1)],1)])],1)},a=[],n=s("5deb"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!=t.task?s("div",{staticClass:"submit-task-from"},[s("el-descriptions",{attrs:{colon:!1,title:"提交任务",column:1}},[s("el-descriptions-item",{attrs:{label:"任务名称"}},[t._v(t._s(t.task.taskName))]),s("el-descriptions-item",{attrs:{label:"任务要求",contentStyle:{width:"60%"}}},[s("el-input",{attrs:{type:"textarea",value:t.task.description,resize:"none",autosize:"",readonly:!0}})],1)],1),s("el-input",{attrs:{type:"textarea",placeholder:"请输入提交的内容或提交文件的描述",autosize:{minRows:3}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),s("el-upload",{ref:"upload",staticClass:"upload",attrs:{drag:"",action:"/","auto-upload":!0,"http-request":t.addUploadFile,"on-remove":t.onRemove,limit:1}},[s("i",{staticClass:"el-icon-upload"}),s("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),s("em",[t._v("点击上传")])]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("支持上传单个文件，最大100MB。更换上传文件时请先点击删除之前选择的文件")])]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v(" 上传到服务器 ")]),t.percentVisible?s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{"text-inside":!0,"stroke-width":26,percentage:t.progressPercent,status:"success"}}):t._e()],1):t._e()},i=[],c=(s("a4d3"),s("e01a"),s("b114")),l={name:"SubmitTaskFrom",props:{task:{type:Object,default:function(){return null}}},data:function(){return{description:"",userId:this.$store.getters.getLoginUser.id,fileForm:null,progressPercent:0,percentVisible:!1}},methods:{addUploadFile:function(t){this.fileForm=new FormData,this.fileForm.append("file",t.file)},onRemove:function(){this.percentVisible=!1},submitUpload:function(){var t=this;null!=this.fileForm&&(this.percentVisible=!0);var e=function(e){t.progressPercent=e.loaded/e.total*100|0};Object(c["c"])(this.userId,this.task.id,this.description,this.fileForm,e).then((function(e){console.log(e),200===e.code?t.$message.success("提交成功"):t.$message.error("提交失败，",e.msg)}))}}},u=l,d=(s("0017"),s("2877")),p=Object(d["a"])(u,r,i,!1,null,"6cf30fb4",null),f=p.exports,h=s("bd9c"),m={name:"SubmitTask",components:{ShowWindow:n["a"],SubmitTaskFrom:f},data:function(){return{task:null}},mounted:function(){var t=this,e=this.$route.query.task,s=this.$route.query.taskId;void 0===e.id?Object(h["i"])(s).then((function(e){200===e.code?t.task=e.result:t.$message.error("出错了，请稍后重试")})):this.task=e}},b=m,k=Object(d["a"])(b,o,a,!1,null,"ad87d7c2",null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-dc1ce744.e8051a64.js.map