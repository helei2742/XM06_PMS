{"version":3,"sources":["webpack:///./src/views/taskcomponent/submitrecord/SubmitRecordTable.vue?a449","webpack:///./src/views/taskcomponent/SubmitRecord.vue?de01","webpack:///src/views/taskcomponent/SubmitRecord.vue","webpack:///./src/views/taskcomponent/SubmitRecord.vue?8520","webpack:///./src/views/taskcomponent/SubmitRecord.vue","webpack:///./src/views/taskcomponent/submitrecord/SubmitRecordTable.vue?eb62","webpack:///src/views/taskcomponent/submitrecord/SubmitRecordTable.vue","webpack:///./src/views/taskcomponent/submitrecord/SubmitRecordTable.vue?c3a2","webpack:///./src/views/taskcomponent/submitrecord/SubmitRecordTable.vue","webpack:///./src/util/fileUtil.js","webpack:///./src/components/showwindow/ShowWindow.vue?d2f5","webpack:///src/components/showwindow/ShowWindow.vue","webpack:///./src/components/showwindow/ShowWindow.vue?aff4","webpack:///./src/components/showwindow/ShowWindow.vue","webpack:///./src/components/showwindow/ShowWindow.vue?da89","webpack:///./src/network/file.js","webpack:///./src/network/task.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","key","attrs","slot","_v","_s","taskName","staticStyle","on","exportTaskSubmitRecord","recordList","isUseSmall","currentPage","limit","total","handleCurrentChange","$event","staticRenderFns","components","ShowWindow","SubmitRecordTable","data","loading","taskId","computed","$store","getters","getScreenSize","width","methods","queryTaskRecordOfUser","val","queryTaskRecord","activated","$route","query","component","getLoginUser","getCardColorStyle","handleSelectionChange","handleSelectable","submitDate","scopedSlots","_u","fn","scope","taskDetail","row","selected","length","handleDeleteAll","_e","lookDesc","$index","downloadFile","isMyRecord","userId","deleteRecord","dialogVisible","currentRecord","description","props","type","Array","default","id","console","log","recordIds","selection","$router","push","path","task","taskRecord","record","response","$message","error","$confirm","confirmButtonText","cancelButtonText","message","getSuffix","fileName","split","convertRes2Blob","filename","headers","blob","Blob","window","navigator","msSaveBlob","decodeURI","blobURL","URL","createObjectURL","tempLink","document","createElement","style","display","href","setAttribute","download","body","appendChild","click","removeChild","revokeObjectURL","_t","lightType","target","currentTarget","colorModuleChange","apply","arguments","reload","close","bgcColor","slotAreaColor","isClose","$forceUpdate","module","commit","color","getColor","getColorModule","config","down","axios","create","timeout","withCredentials","submitTaskFileNetwork","form","uploadProgressEvent","request","url","params","onUploadProgress","method","downloadFileNetwork","filePath","FILEDOWNLOADURL","responseType","Accept","createTaskNetwork","from","groupId","deadline","date","desc","creatorId","alterTaskNetWork","dropTaskNetwork","userPwd","pageQueryUserTaskNetwork","page","queryTaskInfoNetwork","queryTaskRecordNetwork","queryTaskRecordOfUserNetwork","queryTaskSubmitChartsNetwork","deleteTaskSubmitRecordNetwork","recordId","deleteSelectedTaskRecordNetwork","exportMyTaskSubmitRecordNetwork","exportTaskSubmitRecordNetwork"],"mappings":"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","file":"js/chunk-4e5cacbb.f11e2ef1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitRecordTable.vue?vue&type=style&index=0&id=830c6304&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"submit-record\"},[_c('show-window',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],key:\"submitRecord\",attrs:{\"element-loading-text\":\"查询提交记录中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-s-order\"}),_c('span',[_vm._v(\"任务管理\")]),_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('span',[_vm._v(\"任务提交记录\")]),_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('span',[_vm._v(_vm._s(_vm.taskName))])]),_c('div',{attrs:{\"slot\":\"main\"},slot:\"main\"},[_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-right\":\"50px\"}},[_c('el-dropdown',[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-more-outline el-icon--right\",staticStyle:{\"font-size\":\"30px\",\"cursor\":\"pointer\"}})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-s-fold\"},on:{\"click\":_vm.exportTaskSubmitRecord}},[_vm._v(\" 导出excel文件 \")])],1)],1)],1)],1),_c('submit-record-table',{attrs:{\"record-list\":_vm.recordList}}),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-pagination',{attrs:{\"small\":_vm.isUseSmall,\"pager-count\":5,\"current-page\":_vm.currentPage,\"page-size\":_vm.limit,\"layout\":\"total,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!--\r\n  任务提交记录\r\n-->\r\n<div class=\"submit-record\">\r\n  <show-window key=\"submitRecord\"\r\n               v-loading=\"loading\"\r\n               element-loading-text=\"查询提交记录中\"\r\n               element-loading-spinner=\"el-icon-loading\"\r\n               element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n\r\n    <div slot=\"title\">\r\n      <i class=\"el-icon-s-order\"></i>\r\n      <span>任务管理</span>\r\n      <i class=\"el-icon-arrow-right\"></i>\r\n      <span>任务提交记录</span>\r\n      <i class=\"el-icon-arrow-right\"></i>\r\n      <span>{{taskName}}</span>\r\n    </div>\r\n\r\n    <div slot=\"main\">\r\n      <div style=\"text-align: right;margin-right: 50px\">\r\n        <el-dropdown >\r\n          <span class=\"el-dropdown-link\">\r\n           <i style=\"font-size: 30px;cursor: pointer\" class=\"el-icon-more-outline el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item>\r\n              <el-button size=\"mini\"\r\n                         @click=\"exportTaskSubmitRecord\"\r\n                         icon=\"el-icon-s-fold\">\r\n                导出excel文件\r\n              </el-button>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </div>\r\n\r\n\r\n\r\n      <submit-record-table :record-list=\"recordList\"/>\r\n\r\n      <div style=\"text-align: center\">\r\n        <el-pagination\r\n            :small=\"isUseSmall\"\r\n            :pager-count=\"5\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page.sync=\"currentPage\"\r\n            :page-size=\"limit\"\r\n            layout=\"total,prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </show-window>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ShowWindow from '@/components/showwindow/ShowWindow'\r\n\r\nimport SubmitRecordTable from '@/views/taskcomponent/submitrecord/SubmitRecordTable'\r\n\r\nimport {exportTaskSubmitRecordNetwork, queryTaskRecordNetwork, queryTaskRecordOfUserNetwork} from \"@/network/task\";\r\nimport {convertRes2Blob} from \"@/util/fileUtil\";\r\n\r\n\r\nexport default {\r\n  name: \"SubmitRecord\",\r\n  components: {\r\n    ShowWindow,\r\n    SubmitRecordTable\r\n  },\r\n  data() {\r\n    return {\r\n      taskName: '',\r\n      loading: false,\r\n      recordList: [],\r\n      currentPage: 1,\r\n      limit: 15,\r\n      total: 0,\r\n      taskId: -1\r\n    }\r\n  },\r\n  computed:{\r\n    isUseSmall(){\r\n      return this.$store.getters.getScreenSize.width < 765;\r\n    }\r\n  },\r\n  methods:{\r\n    handleCurrentChange(val){\r\n      this.queryTaskRecordOfUser(val)\r\n    },\r\n    queryTaskRecord(taskId, page){\r\n      this.loading = true\r\n      queryTaskRecordNetwork(taskId, page, this.limit).then(data =>{\r\n        if(data.code === 200){\r\n          let pageInfo = data.result\r\n          this.recordList = pageInfo.list\r\n          this.total = pageInfo.total\r\n        }else {\r\n          this.$message.error('出错了，'+data.msg)\r\n        }\r\n      }).finally(()=>{\r\n        this.loading = false\r\n      })\r\n    },\r\n    exportTaskSubmitRecord(){\r\n      exportTaskSubmitRecordNetwork(this.taskId).then(res=>{\r\n        convertRes2Blob(res)\r\n      })\r\n    }\r\n  },\r\n  /**\r\n   * 路由进入的方法，发送请求获取任务提交记录数据\r\n   */\r\n  activated() {\r\n    let taskName = this.$route.query.taskName\r\n    this.taskId = this.$route.query.taskId\r\n    if(taskName !== this.taskName){\r\n      this.queryTaskRecord(this.taskId, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubmitRecord.vue?vue&type=template&id=0590f6b7&scoped=true&\"\nimport script from \"./SubmitRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./SubmitRecord.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0590f6b7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.$store.getters.getLoginUser!=null)?_c('div',{staticClass:\"submit-record-table\"},[(_vm.recordList!==[])?_c('el-table',{staticStyle:{\"width\":\"100%\",\"min-width\":\"830px\"},attrs:{\"data\":_vm.recordList,\"empty-text\":\"暂无提交记录\",\"row-style\":this.$store.getters.getCardColorStyle,\"header-cell-style\":this.$store.getters.getCardColorStyle},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"selectable\":_vm.handleSelectable,\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"user.userName\",\"label\":\"提交者用户名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"user.trueName\",\"label\":\"提交者姓名\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"prop\":\"submitDate\",\"formatter\":_vm.submitDate,\"label\":\"提交日期\"}}),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"icon\":\"el-icon-info\"},on:{\"click\":function($event){return _vm.taskDetail(scope.row)}}},[_vm._v(\" 查看任务详情 \")])]}}],null,false,1249199784)}),_c('el-table-column',{attrs:{\"width\":\"140\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [(_vm.selected.length>0)?_c('el-popconfirm',{attrs:{\"title\":\"确定删除选中记录吗？\"},on:{\"confirm\":_vm.handleDeleteAll}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"warning\",\"size\":\"mini\"},slot:\"reference\"},[_vm._v(\" 删除选中\"+_vm._s(_vm.selected.length)+\"条 \")])],1):_vm._e()]}},{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"size\":\"mini\",\"split-button\":\"\",\"type\":\"primary\"}},[_vm._v(\" 更多操作 \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-zoom-in\"},on:{\"click\":function($event){return _vm.lookDesc(scope.$index, scope.row)}}},[_vm._v(\" 查看提交内容 \")])],1),_c('el-dropdown-item',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.downloadFile(scope.$index, scope.row)}}},[_vm._v(\" 下载提交文件 \")])],1),(_vm.isMyRecord(scope.row.userId))?_c('el-dropdown-item',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteRecord(scope.$index, scope.row)}}},[_vm._v(\" 删除提交记录 \")])],1):_vm._e()],1)],1)]}}],null,false,1936801717)})],1):_vm._e(),_c('el-dialog',{attrs:{\"title\":\"提交内容\",\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.currentRecord!=null)?_c('el-input',{attrs:{\"type\":\"textarea\",\"value\":_vm.currentRecord.description,\"placeholder\":\"无提交内容\",\"resize\":\"none\",\"autosize\":\"\",\"readonly\":true}}):_vm._e()],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"submit-record-table\" v-if=\"this.$store.getters.getLoginUser!=null\">\r\n  <el-table\r\n      v-if=\"recordList!==[]\"\r\n      :data=\"recordList\"\r\n      empty-text=\"暂无提交记录\"\r\n      @selection-change=\"handleSelectionChange\"\r\n      :row-style=\"this.$store.getters.getCardColorStyle\"\r\n      :header-cell-style=\" this.$store.getters.getCardColorStyle\"\r\n\r\n      style=\"width: 100%;min-width:830px\">\r\n    <el-table-column\r\n        type=\"selection\"\r\n        :selectable=\"handleSelectable\"\r\n        width=\"55\">\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        type=\"index\"\r\n        width=\"50\">\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        prop=\"user.userName\"\r\n        label=\"提交者用户名\"\r\n        width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n        prop=\"user.trueName\"\r\n        label=\"提交者姓名\"\r\n        width=\"100\">\r\n    </el-table-column>\r\n    <el-table-column\r\n        sortable\r\n        prop=\"submitDate\"\r\n        :formatter=\"submitDate\"\r\n        label=\"提交日期\"\r\n    >\r\n\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        width=\"140\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button\r\n            size=\"mini\"\r\n            type=\"info\"\r\n            icon=\"el-icon-info\"\r\n            @click=\"taskDetail(scope.row)\">\r\n          查看任务详情\r\n        </el-button>\r\n      </template>\r\n    </el-table-column>\r\n\r\n    <el-table-column\r\n        width=\"140\">\r\n      <template slot=\"header\" slot-scope=\"scope\">\r\n        <el-popconfirm\r\n            v-if=\"selected.length>0\"\r\n            title=\"确定删除选中记录吗？\"\r\n            @confirm=\"handleDeleteAll\"\r\n        >\r\n          <el-button type=\"warning\"\r\n                     size=\"mini\"\r\n                     slot=\"reference\">\r\n            删除选中{{selected.length}}条\r\n          </el-button>\r\n        </el-popconfirm>\r\n      </template>\r\n\r\n      <template slot-scope=\"scope\">\r\n        <el-dropdown size=\"mini\" split-button type=\"primary\">\r\n          更多操作\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item>\r\n              <el-button\r\n                  size=\"mini\"\r\n                  icon=\"el-icon-zoom-in\"\r\n                  @click=\"lookDesc(scope.$index, scope.row)\">\r\n                查看提交内容\r\n              </el-button>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item>\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"success\"\r\n                  icon=\"el-icon-download\"\r\n                  @click=\"downloadFile(scope.$index, scope.row)\">\r\n                下载提交文件\r\n              </el-button>\r\n            </el-dropdown-item>\r\n            <el-dropdown-item v-if=\"isMyRecord(scope.row.userId)\">\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                  @click=\"deleteRecord(scope.$index, scope.row)\">\r\n                删除提交记录\r\n              </el-button>\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n      </template>\r\n    </el-table-column>\r\n\r\n  </el-table>\r\n\r\n  <el-dialog title=\"提交内容\" :visible.sync=\"dialogVisible\">\r\n    <el-input v-if=\"currentRecord!=null\" type=\"textarea\"\r\n              :value=\"currentRecord.description\"\r\n              placeholder=\"无提交内容\"\r\n              resize=\"none\" autosize :readonly=\"true\">\r\n    </el-input>\r\n  </el-dialog>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {downloadFileNetwork} from \"@/network/file\";\r\nimport {convertRes2Blob} from \"@/util/fileUtil\";\r\nimport {deleteSelectedTaskRecordNetwork, deleteTaskSubmitRecordNetwork} from \"@/network/task\";\r\n\r\nexport default {\r\n  name: \"SubmitRecordTable\",\r\n  props: {\r\n    recordList: {\r\n      type: Array,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      currentRecord: null,\r\n      selected: [],\r\n    }\r\n  },\r\n  computed:{\r\n    isMyRecord(){\r\n      return (userId) =>{\r\n        return userId === this.$store.getters.getLoginUser.id\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitDate(row, column){\r\n      let num = row.submitDate\r\n        if(num == null) return '无记录'\r\n        return this.$formatDate(num)\r\n    },\r\n    handleSelectable(row){\r\n      return row.userId === this.$store.getters.getLoginUser.id\r\n    },\r\n    handleDeleteAll(){\r\n      let recordIds = []\r\n      for (let select of this.selected) {\r\n        recordIds.push(select.id)\r\n      }\r\n      let userId = this.$store.getters.getLoginUser.id\r\n      console.log(recordIds)\r\n      deleteSelectedTaskRecordNetwork(recordIds,userId).then(data=>{\r\n        if(data.code === 200){\r\n          this.$message.success('删除记录成功')\r\n        }else {\r\n          this.$alert('删除失败')\r\n        }\r\n      })\r\n    },\r\n    handleSelectionChange(selection){\r\n      this.selected = selection\r\n    },\r\n    taskDetail(taskRecord){\r\n      this.$router.push({\r\n        path: '/index/taskdetail',\r\n        query:{\r\n          task: {},\r\n          taskId: taskRecord.taskId\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 查看详情提交记录详情的回调\r\n     * @param index\r\n     * @param record\r\n     */\r\n    lookDesc(index, record){\r\n      this.currentRecord = record\r\n      this.dialogVisible = true\r\n    },\r\n\r\n    /**\r\n     *  点击下载提交文件的回调\r\n     * @param index\r\n     * @param record\r\n     */\r\n    downloadFile(index, record){\r\n      let filePath = record.fileUrl\r\n      if(filePath === null || filePath === ''){\r\n        this.$message.error('该记录没有上传文件')\r\n        return\r\n      }\r\n      downloadFileNetwork(filePath).then( response =>{\r\n        console.log(response)\r\n        convertRes2Blob(response)\r\n      }).catch(e => {\r\n        this.$alert('出错了，该上传文件已不存在')\r\n      })\r\n    },\r\n\r\n    deleteRecord(index, record){\r\n      let userId = this.$store.getters.getLoginUser.id;\r\n      console.log(record)\r\n      this.$confirm('此操作将永久删除该提交记录和提交的文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteTaskSubmitRecordNetwork(record.id, userId).then(data=>{\r\n          if(data.code === 200){\r\n            this.$message.success('删除提交记录成功')\r\n          }else{\r\n            this.$message.error('删除提交记录失败,'+data.msg)\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.submit-record-table{\r\n  margin: 40px;\r\n  overflow-x: scroll;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitRecordTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubmitRecordTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubmitRecordTable.vue?vue&type=template&id=830c6304&scoped=true&\"\nimport script from \"./SubmitRecordTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SubmitRecordTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubmitRecordTable.vue?vue&type=style&index=0&id=830c6304&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"830c6304\",\n  null\n  \n)\n\nexport default component.exports","export function getFileNameFromUrl(url){\r\n  let sp = url.split(\"\\\\\")\r\n  console.log(sp)\r\n  return sp[sp.length-1]\r\n}\r\n\r\nexport function getSuffix(fileName){\r\n  let split = fileName.split(\"\\.\");\r\n  return split[split.length-1];\r\n}\r\n\r\n\r\nexport function convertRes2Blob(response) {\r\n  // 提取文件名\r\n  const filename = response.headers['filename']\r\n    // 将二进制流转为blob\r\n  const blob = new Blob([response.data],\r\n      { type: 'application/'+getSuffix(filename) })\r\n  if (typeof window.navigator.msSaveBlob !== 'undefined') {\r\n    // 兼容IE，window.navigator.msSaveBlob：以本地方式保存文件\r\n    window.navigator.msSaveBlob(blob, decodeURI(filename))\r\n  } else {\r\n    // 创建新的URL并指向File对象或者Blob对象的地址\r\n    const blobURL = window.URL.createObjectURL(blob)\r\n    // 创建a标签，用于跳转至下载链接\r\n    const tempLink = document.createElement('a')\r\n    tempLink.style.display = 'none'\r\n    tempLink.href = blobURL\r\n    tempLink.setAttribute('download', decodeURI(filename))\r\n    // 兼容：某些浏览器不支持HTML5的download属性\r\n    if (typeof tempLink.download === 'undefined') {\r\n      tempLink.setAttribute('target', '_blank')\r\n    }\r\n    // 挂载a标签\r\n    document.body.appendChild(tempLink)\r\n    tempLink.click()\r\n    document.body.removeChild(tempLink)\r\n    // 释放blob URL地址\r\n    window.URL.revokeObjectURL(blobURL)\r\n  }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isClose)?_c('div',{staticClass:\"show-window\"},[_c('el-row',{staticClass:\"show-window-title\"},[_c('el-col',{attrs:{\"span\":16}},[_c('div',{staticClass:\"hidden-sm-and-down\"},[_vm._t(\"title\")],2)]),_c('el-col',{attrs:{\"offset\":2,\"span\":4}},[_c('div',{staticClass:\"light-tool\"},[_c('el-switch',{attrs:{\"value\":_vm.lightType,\"active-color\":\"#3c3f41\",\"inactive-color\":\"#ffd04c\",\"active-value\":1,\"inactive-value\":0,\"active-icon-class\":\"el-icon-moon\",\"inactive-icon-class\":\"el-icon-sunny\"},on:{\"change\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.colorModuleChange.apply(null, arguments)}}})],1)]),_c('el-col',{staticClass:\"show-window-button\",attrs:{\"span\":4}},[_c('div',{staticClass:\"el-icon-refresh\",on:{\"click\":_vm.reload}}),_c('div',{staticClass:\"el-icon-close\",on:{\"click\":_vm.close}})])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"show-window-main\",style:(_vm.bgcColor)},[_c('div',{staticStyle:{\"position\":\"relative\",\"border-radius\":\"20px\",\"padding\":\"10px 0\"},style:(_vm.slotAreaColor)},[_vm._t(\"main\")],2)])])],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"show-window\"\r\n     v-if=\"isClose\">\r\n  <el-row class=\"show-window-title\">\r\n    <el-col :span=\"16\">\r\n      <div class=\"hidden-sm-and-down\">\r\n        <slot name=\"title\"></slot>\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-col :offset=\"2\" :span=\"4\">\r\n      <div class=\"light-tool\">\r\n        <!--选择显示模式，（白天或晚上）-->\r\n        <el-switch\r\n            :value=\"lightType\"\r\n            active-color=\"#3c3f41\"\r\n            inactive-color=\"#ffd04c\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"\r\n            @change.self=\"colorModuleChange\"\r\n            active-icon-class=\"el-icon-moon\"\r\n            inactive-icon-class=\"el-icon-sunny\">\r\n        </el-switch>\r\n\r\n      </div>\r\n    </el-col>\r\n\r\n    <el-col class=\"show-window-button\" :span=\"4\">\r\n      <div @click=\"reload\" class=\"el-icon-refresh\"></div>\r\n      <div @click=\"close\" class=\"el-icon-close\"></div>\r\n    </el-col>\r\n  </el-row>\r\n\r\n  <el-row>\r\n    <el-col :span=\"24\">\r\n      <div class=\"show-window-main\"\r\n           :style=\"bgcColor\">\r\n\r\n        <div style=\"position: relative; border-radius: 20px;padding: 10px 0\"\r\n             :style=\"slotAreaColor\">\r\n          <slot name=\"main\">\r\n\r\n          </slot>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {CHANGECOLORMODULE} from \"@/store/mutations-types\";\r\n\r\nexport default {\r\n  name: \"ShowWindow\",\r\n  computed: {\r\n    bgcColor(){\r\n      return {'backgroundColor': this.color[this.lightType].bgcColor}\r\n    },\r\n    slotAreaColor(){\r\n      return {'backgroundColor': this.color[this.lightType].slotAreaBgc}\r\n    }\r\n  },\r\n  methods: {\r\n    close(){\r\n      this.isClose = false\r\n    },\r\n    reload(){\r\n      this.$forceUpdate()\r\n    },\r\n    colorModuleChange(module) {\r\n      this.lightType = module\r\n      this.$store.commit(CHANGECOLORMODULE, {colorModule: module})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      lightType: 0,\r\n      isClose: true,\r\n      color: this.$store.getters.getColor\r\n    }\r\n  },\r\n  activated() {\r\n    this.lightType = this.$store.getters.getColorModule\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.show-window{\r\n  width: calc(100% - 14px);\r\n  border: 2px solid rgba(100,100,100,0.5);\r\n  background-color: transparent;\r\n  margin-top: 5px;\r\n  margin-left: 8px;\r\n  border-radius: 12px;\r\n}\r\n.show-window-title{\r\n  /*background-color: rgba(100,100,100,0.5);*/\r\n  background-color: transparent;\r\n  line-height: 35px;\r\n  height: 35px;\r\n  position: relative;\r\n  padding-left: 10px;\r\n  border-bottom: 1px rgba(100,100,100,0.5) solid;\r\n}\r\n.show-window-button{\r\n  overflow: visible;\r\n}\r\n.show-window-button>div[class='el-icon-close']{\r\n  position: absolute;\r\n  font-size: 20px;\r\n  line-height: 35px;\r\n  right: 15px;\r\n}\r\n.show-window-button>div[class='el-icon-close']:hover{\r\n  cursor: pointer;\r\n}\r\n.show-window-button>div[class='el-icon-refresh']{\r\n  position: absolute;\r\n  font-size: 20px;\r\n  line-height: 35px;\r\n  right: 50px;\r\n}\r\n.show-window-button>div[class='el-icon-refresh']:hover{\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n.show-window-main{\r\n  padding: 50px 20px;\r\n  position: relative;\r\n}\r\n.light-tool{\r\n  margin-right: 5px;\r\n  margin-left: 4px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowWindow.vue?vue&type=template&id=31b52f1e&scoped=true&\"\nimport script from \"./ShowWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShowWindow.vue?vue&type=style&index=0&id=31b52f1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31b52f1e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowWindow.vue?vue&type=style&index=0&id=31b52f1e&scoped=true&lang=css&\"","import axios from \"axios\";\r\nimport {request} from \"@/network/request\";\r\nimport {FILEDOWNLOADURL} from \"@/config\";\r\n\r\nexport function download(config) {\r\n  const down = axios.create({\r\n    timeout: 5000,\r\n    withCredentials:true\r\n  })\r\n  return down(config)\r\n}\r\n\r\n\r\nexport function submitTaskFileNetwork(userId, taskId, description, form, uploadProgressEvent){\r\n  return request({\r\n    url: '/task/submitTask',\r\n    params:{\r\n      userId,\r\n      taskId,\r\n      description,\r\n    },\r\n    onUploadProgress: uploadProgressEvent,\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    },\r\n    data: form\r\n  })\r\n}\r\n\r\nexport function downloadFileNetwork(filePath){\r\n  return download({\r\n    url: FILEDOWNLOADURL,\r\n    params: {\r\n      filePath,\r\n    },\r\n    responseType: 'blob',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json; charset=utf-8'\r\n    },\r\n  })\r\n}\r\n\r\n\r\n","import {request} from \"@/network/request\";\r\nimport {download} from \"@/network/file\";\r\n\r\n/**\r\n * 创建任务网络请求\r\n * @param from\r\n * @param creatorId\r\n * @returns {AxiosPromise}\r\n */\r\nexport function createTaskNetwork(from){\r\n  return request({\r\n    url: '/task/add',\r\n    data:{\r\n      taskName: from.name,\r\n      groupId: from.groupId,\r\n      deadline: from.date,\r\n      description: from.desc,\r\n      creatorId: from.creatorId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n*    修改任务信息接口，form需有以下属性\r\n *        {\r\n          taskName: String,\r\n          deadline: number,\r\n          description: String\r\n        }\r\n * @param form\r\n * @returns {AxiosPromise}\r\n */\r\nexport function alterTaskNetWork(form) {\r\n  return request({\r\n    url: '/task/alterTask',\r\n    data: form,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 删除任务，需传入taskId,  userId(确认身份) userPwd\r\n * @param taskId\r\n * @param userId\r\n * @param userPwd\r\n */\r\nexport function dropTaskNetwork(taskId, userId, userPwd){\r\n  return request({\r\n    url: '/task/dropTask',\r\n    data:{\r\n      id: taskId,\r\n      creatorId: userId,\r\n      userPwd\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 分页查询用户的任务信息的网络请求\r\n *  \"该方法包含了多种查询方式，type类型：（2.查询用户创建的任务，3.查询还没过期的任务，\" +\r\n \"4，查询用户已经提交过的任务，5.查询过期的任务、6。查看小组的任务，7、查看未提交的任务, 1、或其他，查看所有任务)\" +\r\n \"对应的其他需要的参数有（1或其他.userId, 2.userId,3.userId,4.userId,5.userId,6.groupId,7.userId\"\r\n * @param userId\r\n * @param page\r\n * @param limit\r\n * @param type\r\n * @param groupId\r\n * @returns {AxiosPromise}\r\n */\r\nexport function pageQueryUserTaskNetwork(userId, page, limit, type, groupId){\r\n  return request({\r\n    url: '/task/pageQueryUserTask',\r\n    data: {\r\n      page,\r\n      limit,\r\n      userId,\r\n      type,\r\n      groupId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 根据taskId, 查询任务信息\r\n * @param taskId\r\n */\r\nexport function queryTaskInfoNetwork(taskId){\r\n  return request({\r\n    url: '/task/queryByTaskId',\r\n    params: {\r\n      taskId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 查询任务的提交记录的网络请求\r\n * @param taskId\r\n * @param page\r\n * @param limit\r\n */\r\nexport function queryTaskRecordNetwork(taskId,page, limit){\r\n  return request({\r\n    url: '/task/taskSubmitRecord',\r\n    data: {\r\n      taskId,\r\n      page,\r\n      limit\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 查询用户的所有提交记录\r\n * @param userId\r\n */\r\nexport function queryTaskRecordOfUserNetwork(userId, page, limit){\r\n  return request({\r\n    url:'/task/userSubmitRecord',\r\n    data: {\r\n      userId,\r\n      page,\r\n      limit\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n/**\r\n * 查询任务提交记录图表信息\r\n * @param taskId\r\n */\r\nexport function queryTaskSubmitChartsNetwork(taskId){\r\n  return request({\r\n    url: '/task/queryTaskSubmitCharts',\r\n    data:{\r\n      taskId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 删除任务提交记录网络请求\r\n * @param recordId\r\n * @param userId\r\n */\r\nexport function deleteTaskSubmitRecordNetwork(recordId, userId){\r\n  return request({\r\n    url: '/task/deleteTaskSubmitRecord',\r\n    data:{\r\n      recordId,\r\n      userId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 删除选中的任务提交记录\r\n * @param recordIds\r\n * @param userId\r\n * @returns {AxiosPromise}\r\n */\r\nexport function deleteSelectedTaskRecordNetwork(recordIds,userId){\r\n  return request({\r\n    url: '/task/deleteSelectedRecord',\r\n    data: {\r\n      recordIds,\r\n      userId\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 导出当前userId的所有提交记录excel文件\r\n * @param userId\r\n * @returns {AxiosPromise}\r\n */\r\nexport function exportMyTaskSubmitRecordNetwork(userId){\r\n  return download({\r\n    url: 'http://localhost:9000/XM06/task/exportMyRecordExcel',\r\n    data: {\r\n      userId\r\n    },\r\n    responseType: 'blob',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json; charset=utf-8'\r\n    },\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n/**\r\n * 导出任务的所有提交记录excel文件\r\n * @param taskId\r\n * @returns {AxiosPromise}\r\n */\r\nexport function exportTaskSubmitRecordNetwork(taskId){\r\n  return download({\r\n    url: 'http://localhost:9000/XM06/task/exportTaskRecordExcel',\r\n    data: {\r\n      taskId\r\n    },\r\n    responseType: 'blob',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json; charset=utf-8'\r\n    },\r\n    method: 'post'\r\n  })\r\n}"],"sourceRoot":""}