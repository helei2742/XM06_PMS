(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26496fd2"],{"0250":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"join-in-group"},[o("show-window",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],key:"joininGroup",attrs:{"element-loading-text":"加载数据中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[o("div",{attrs:{slot:"title"},slot:"title"},[o("i",{staticClass:"el-icon-s-custom"}),o("span",[t._v("小组管理")]),o("i",{staticClass:"el-icon-arrow-right"}),o("span",[t._v("加入小组")])]),o("div",{attrs:{slot:"main"},slot:"main"},[o("el-row",{staticStyle:{"margin-top":"20px"}},[o("el-col",{attrs:{offset:3,span:18}},[o("group-list",{attrs:{"group-list":t.groupList,"card-style":t.cardColorStyle},on:{joiningroup:t.joinInGroup,searchgroupname:t.searchByGroupName}}),o("div",{staticClass:"scroll-pagination",staticStyle:{overflow:"scroll"}},[o("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.isShowPagination,expression:"isShowPagination"}],staticClass:"pagination",attrs:{"current-page":t.currentPage,"page-size":t.pageSize,"pager-count":7,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)],1)])],1)},i=[],r=(o("d3b7"),o("159b"),o("5deb")),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"joinin-group-list",style:t.cardStyle},[o("el-table",{staticStyle:{width:"100%","background-color":"transparent"},attrs:{data:t.groupList,"header-cell-style":t.cardStyle,"row-style":t.cardStyle,height:"400"}},[o("el-table-column",{attrs:{prop:"groupName",label:"小组名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[t._v("管理员用户名: "+t._s(t.managerName(e.row.managerId,e.row.memberList)))]),o("p",[t._v("队伍描述: "+t._s(e.row.described))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.groupName))])],1)])]}}])}),o("el-table-column",{attrs:{prop:"memberNum",label:"成员数",sortable:"",width:"95"}}),o("el-table-column",{attrs:{prop:"createDate",label:"创建日期",sortable:"",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatDate(e.row.createDate))+" ")]}}])}),o("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:"输入小组名"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("el-button",{attrs:{size:"mini"},on:{click:t.searchGroupName}},[t._v("搜索")])]}},{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success"},on:{click:function(o){return t.add(e.row.id)}}},[t._v("加入")]),o("el-button",{attrs:{type:"info"},on:{click:function(o){return t.groupDetail(e.row)}}},[t._v("详情")])]}}])})],1),o("el-dialog",{attrs:{title:"请输入小组邀请码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"邀请码","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.invitationCode,callback:function(e){t.$set(t.form,"invitationCode",e)},expression:"form.invitationCode"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.invitationCodeSubmit}},[t._v("确 定")])],1)],1)],1)},s=[],l=(o("ac1f"),o("841c"),{name:"GroupList",props:{groupList:{type:Array,default:function(){return[]}},cardStyle:{type:Object,default:function(){return{backgroundColor:"#b6baba",color:"#202020"}}}},data:function(){return{form:{invitationCode:"",groupId:null},dialogFormVisible:!1,search:""}},computed:{managerName:function(){return function(t,e){for(var o=0;o<e.length;o++)if(t===e[o].id)return e[o].userName;return""}}},methods:{add:function(t){this.form.groupId=t,this.dialogFormVisible=!0},groupDetail:function(t){this.$router.push({path:"/index/groupdetail",query:{group:t,groupName:t.groupName}})},invitationCodeSubmit:function(){this.$emit("joiningroup",this.form),this.dialogFormVisible=!1},searchGroupName:function(){this.$emit("searchgroupname",this.search)},formatDate:function(t){return this.$formatDate(t)}}}),c=l,u=(o("cf5f"),o("2877")),d=Object(u["a"])(c,a,s,!1,null,"6a9fd07a",null),f=d.exports,p=o("78de"),g={name:"JoinInGroup",components:{ShowWindow:r["a"],GroupList:f},computed:{cardColorStyle:function(){return this.$store.getters.getCardColorStyle}},data:function(){return{groupList:[],total:0,currentPage:1,pageSize:5,isShowPagination:!0,loading:!1}},methods:{searchByGroupName:function(t){var e=this,o=this.$loading({lock:!0,text:"正在查找小组",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(p["f"])(t).then((function(t){200===t.code?(e.groupList=[t.result],e.groupList[0].memberNum=e.groupList[0].memberList.length,e.$message.success("查询成功")):e.$message.error("出错了"+t.msg)})).finally((function(){o.close()}))},joinInGroup:function(t){var e=this;t.userId=this.$store.getters.getLoginUser.id;var o=this.$loading({lock:!0,text:"正在处理请求",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(p["d"])(t).then((function(t){200===t.code?e.$message.success("加入小组成功"):e.$message.error("加入失败,"+t.msg)})).finally((function(){o.close()}))},handleCurrentChange:function(t){this.pageQueryAllGroup(t,this.pageSize)},pageQueryAllGroup:function(t,e){var o=this;this.loading=!0,Object(p["e"])(t,e).then((function(t){var e=t.list;o.groupList=[],e.forEach((function(t){t.memberNum=t.memberList.length,o.groupList.push(t)})),o.total=t.total})).finally((function(){o.loading=!1}))}},mounted:function(){this.pageQueryAllGroup(1,this.pageSize)}},h=g,m=(o("6dd6"),Object(u["a"])(h,n,i,!1,null,"4daa9bd0",null));e["default"]=m.exports},"102c":function(t,e,o){},"10fb":function(t,e,o){},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"159b":function(t,e,o){var n=o("da84"),i=o("fdbc"),r=o("785a"),a=o("17c2"),s=o("9112"),l=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)l(n[c]&&n[c].prototype);l(r)},"17c2":function(t,e,o){"use strict";var n=o("b727").forEach,i=o("a640"),r=i("forEach");t.exports=r?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"5deb":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isClose?o("div",{staticClass:"show-window"},[o("el-row",{staticClass:"show-window-title"},[o("el-col",{attrs:{span:16}},[o("div",{staticClass:"hidden-sm-and-down"},[t._t("title")],2)]),o("el-col",{attrs:{offset:2,span:4}},[o("div",{staticClass:"light-tool"},[o("el-switch",{attrs:{value:t.lightType,"active-color":"#3c3f41","inactive-color":"#ffd04c","active-value":1,"inactive-value":0,"active-icon-class":"el-icon-moon","inactive-icon-class":"el-icon-sunny"},on:{change:function(e){return e.target!==e.currentTarget?null:t.colorModuleChange.apply(null,arguments)}}})],1)]),o("el-col",{staticClass:"show-window-button",attrs:{span:4}},[o("div",{staticClass:"el-icon-refresh",on:{click:t.reload}}),o("div",{staticClass:"el-icon-close",on:{click:t.close}})])],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"show-window-main",style:t.bgcColor},[o("div",{staticStyle:{position:"relative","border-radius":"20px",padding:"10px 0"},style:t.slotAreaColor},[t._t("main")],2)])])],1)],1):t._e()},i=[],r=o("4ba1"),a={name:"ShowWindow",computed:{bgcColor:function(){return{backgroundColor:this.color[this.lightType].bgcColor}},slotAreaColor:function(){return{backgroundColor:this.color[this.lightType].slotAreaBgc}}},methods:{close:function(){this.isClose=!1},reload:function(){this.$forceUpdate()},colorModuleChange:function(t){this.lightType=t,this.$store.commit(r["b"],{colorModule:t})}},data:function(){return{lightType:0,isClose:!0,color:this.$store.getters.getColor}},activated:function(){this.lightType=this.$store.getters.getColorModule}},s=a,l=(o("85e3"),o("2877")),c=Object(l["a"])(s,n,i,!1,null,"31b52f1e",null);e["a"]=c.exports},"6dd6":function(t,e,o){"use strict";o("810b")},"810b":function(t,e,o){},"841c":function(t,e,o){"use strict";var n=o("d784"),i=o("825a"),r=o("1d80"),a=o("129f"),s=o("577e"),l=o("dc4a"),c=o("14c3");n("search",(function(t,e,o){return[function(e){var o=r(this),n=void 0==e?void 0:l(e,t);return n?n.call(e,o):new RegExp(e)[t](s(o))},function(t){var n=i(this),r=s(t),l=o(e,n,r);if(l.done)return l.value;var u=n.lastIndex;a(u,0)||(n.lastIndex=0);var d=c(n,r);return a(n.lastIndex,u)||(n.lastIndex=u),null===d?-1:d.index}]}))},"85e3":function(t,e,o){"use strict";o("102c")},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){throw 1},1)}))}},cf5f:function(t,e,o){"use strict";o("10fb")}}]);
//# sourceMappingURL=chunk-26496fd2.28545078.js.map