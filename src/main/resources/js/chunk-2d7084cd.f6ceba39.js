(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d7084cd"],{"102c":function(e,t,r){},"5deb":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isClose?r("div",{staticClass:"show-window"},[r("el-row",{staticClass:"show-window-title"},[r("el-col",{attrs:{span:16}},[r("div",{staticClass:"hidden-sm-and-down"},[e._t("title")],2)]),r("el-col",{attrs:{offset:2,span:4}},[r("div",{staticClass:"light-tool"},[r("el-switch",{attrs:{value:e.lightType,"active-color":"#3c3f41","inactive-color":"#ffd04c","active-value":1,"inactive-value":0,"active-icon-class":"el-icon-moon","inactive-icon-class":"el-icon-sunny"},on:{change:function(t){return t.target!==t.currentTarget?null:e.colorModuleChange.apply(null,arguments)}}})],1)]),r("el-col",{staticClass:"show-window-button",attrs:{span:4}},[r("div",{staticClass:"el-icon-refresh",on:{click:e.reload}}),r("div",{staticClass:"el-icon-close",on:{click:e.close}})])],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"show-window-main",style:e.bgcColor},[r("div",{staticStyle:{position:"relative","border-radius":"20px",padding:"10px 0"},style:e.slotAreaColor},[e._t("main")],2)])])],1)],1):e._e()},a=[],n=r("4ba1"),s={name:"ShowWindow",computed:{bgcColor:function(){return{backgroundColor:this.color[this.lightType].bgcColor}},slotAreaColor:function(){return{backgroundColor:this.color[this.lightType].slotAreaBgc}}},methods:{close:function(){this.isClose=!1},reload:function(){this.$forceUpdate()},colorModuleChange:function(e){this.lightType=e,this.$store.commit(n["b"],{colorModule:e})}},data:function(){return{lightType:0,isClose:!0,color:this.$store.getters.getColor}},activated:function(){this.lightType=this.$store.getters.getColorModule}},i=s,l=(r("85e3"),r("2877")),c=Object(l["a"])(i,o,a,!1,null,"31b52f1e",null);t["a"]=c.exports},"85e3":function(e,t,r){"use strict";r("102c")},b114:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c}));var o=r("bc3a"),a=r.n(o),n=r("1bab"),s=r("f121");function i(e){var t=a.a.create({timeout:5e3,withCredentials:!0});return t(e)}function l(e,t,r,o,a){return Object(n["a"])({url:"/task/submitTask",params:{userId:e,taskId:t,description:r},onUploadProgress:a,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:o})}function c(e){return i({url:s["b"],params:{filePath:e},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}})}},bd9c:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return c})),r.d(t,"j",(function(){return u})),r.d(t,"k",(function(){return d})),r.d(t,"l",(function(){return m})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"f",(function(){return h})),r.d(t,"g",(function(){return g}));r("b0c0");var o=r("1bab"),a=r("b114");function n(e){return Object(o["a"])({url:"/task/add",data:{taskName:e.name,groupId:e.groupId,deadline:e.date,description:e.desc,creatorId:e.creatorId},method:"post"})}function s(e){return Object(o["a"])({url:"/task/alterTask",data:e,method:"post"})}function i(e,t,r){return Object(o["a"])({url:"/task/dropTask",data:{id:e,creatorId:t,userPwd:r},method:"post"})}function l(e,t,r,a,n){return Object(o["a"])({url:"/task/pageQueryUserTask",data:{page:t,limit:r,userId:e,type:a,groupId:n},method:"post"})}function c(e){return Object(o["a"])({url:"/task/queryByTaskId",params:{taskId:e},method:"post"})}function u(e,t,r){return Object(o["a"])({url:"/task/taskSubmitRecord",data:{taskId:e,page:t,limit:r},method:"post"})}function d(e,t,r){return Object(o["a"])({url:"/task/userSubmitRecord",data:{userId:e,page:t,limit:r},method:"post"})}function m(e){return Object(o["a"])({url:"/task/queryTaskSubmitCharts",data:{taskId:e},method:"post"})}function p(e,t){return Object(o["a"])({url:"/task/deleteTaskSubmitRecord",data:{recordId:e,userId:t},method:"post"})}function f(e,t){return Object(o["a"])({url:"/task/deleteSelectedRecord",data:{recordIds:e,userId:t},method:"post"})}function h(e){return Object(a["a"])({url:"http://localhost:9000/XM06/task/exportMyRecordExcel",data:{userId:e},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}function g(e){return Object(a["a"])({url:"http://localhost:9000/XM06/task/exportTaskRecordExcel",data:{taskId:e},responseType:"blob",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"post"})}},fede:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:"createTask",staticClass:"createTask"},[r("show-window",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"创建任务中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[r("div",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-s-order"}),r("span",[e._v("任务管理")]),r("i",{staticClass:"el-icon-arrow-right"}),r("span",[e._v("发部任务")])]),r("div",{attrs:{slot:"main"},slot:"main"},[r("el-row",[r("el-col",{attrs:{offset:1,xs:22,sm:18,md:14,lg:10,xl:10}},[r("create-task-from",{ref:"createTaskFrom",staticStyle:{"margin-top":"40px"},attrs:{"user-groups":this.$store.getters.getMyGroup},on:{createtask:e.createTask}})],1)],1)],1)])],1)},a=[],n=(r("d3b7"),r("5deb")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"所属小组",prop:"group"}},[r("el-select",{attrs:{placeholder:"请选择所属小组"},model:{value:e.ruleForm.groupId,callback:function(t){e.$set(e.ruleForm,"groupId",t)},expression:"ruleForm.groupId"}},e._l(e.userGroups,(function(e){return r("el-option",{key:e.groupName,attrs:{label:e.groupName,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"截止时间",required:""}},[r("el-form-item",{attrs:{prop:"date"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}})],1)],1),r("el-form-item",{attrs:{label:"任务描述",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:9}},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},i=[],l={name:"CreateTaskFrom",props:{userGroups:null},data:function(){return{ruleForm:{name:"",groupId:"",date:"",desc:""},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],groupId:[{required:!0,message:"请选择所属小组",trigger:"change"}],date:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],desc:[{required:!0,message:"请填写任务描述",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.ruleForm.date=new Date(t.ruleForm.date).getTime(),t.ruleForm.creatorId=t.$store.getters.getLoginUser.id,console.log(t.ruleForm),t.$emit("createtask",t.ruleForm)}))},resetForm:function(e){this.$refs[e].resetFields()}}},c=l,u=r("2877"),d=Object(u["a"])(c,s,i,!1,null,"62408698",null),m=d.exports,p=r("bd9c"),f=r("d86d"),h={name:"CreateTask",components:{ShowWindow:n["a"],CreateTaskFrom:m},data:function(){return{loading:!1}},methods:{createTask:function(e){var t=this;this.loading=!0,setTimeout((function(){Object(p["b"])(e).then((function(e){200===e.code?t.$message.success("发布任务成功"):t.$message.error(e.msg)})).finally((function(){t.loading=!1}))}),2e3)}},mounted:function(){this.$store.dispatch(f["d"])}},g=h,b=Object(u["a"])(g,o,a,!1,null,"5f054c1e",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d7084cd.f6ceba39.js.map